<!DOCTYPE html>
<html>
<head>
    <title><%= title %></title>
    <link rel="stylesheet" type="text/css" href="semantic/semantic.min.css">
    <link rel='stylesheet' href='/stylesheets/style.css'/>
    <script src="semantic/semantic.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.15.4/css/all.css" type="text/css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,200;1,300;1,400;1,600;1,700;1,900&display=swap"
          rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
            integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>

<!--TODO: max-height: 28em; sur les images dans les cards, enlever les box-shadow des cards, enlever -->

<%- include('./components/_navbar'); %>
<% console.log(credit.cast) %>
<div class="!ml-60">
    <div class="h-[40rem] absolute w-[100%]">
        <img class="max-h-[40rem] w-[100%] object-cover opacity-50"
             src=<%= `https://image.tmdb.org/t/p/original/${film.backdrop_path}` %> alt="">
    </div>
    <div class="ui relative h-[40rem] flex max-w-[1220px] m-auto items-center">
        <div>
            <% let Vote = film.vote_average * 10; %>
            <% if (Vote <= 25) { %>
                <a class="ui green ribbon label z-10 top-10 !left-[-1rem]"><%= Vote %>% <i
                            class="heart icon"></i></a>
            <% } %>
            <% if (Vote >= 25 && Vote < 50) { %>
                <a class="ui orange ribbon label z-10 top-10 !left-[-1rem]"><%= Vote %>% <i
                            class="heart icon"></i></a>
            <% } %>
            <% if (Vote >= 50) { %>
                <a class="ui green ribbon ribbon label z-10 top-10 !left-[-1rem]"><%= Vote %>% <i
                            class="heart icon"></i></a>
            <% } %>
            <img class="w-[300px] h-[450px] rounded-md max-w-none"
                 src=<%= `https://image.tmdb.org/t/p/w300_and_h450_bestv2/${film.poster_path}` %> alt="">
        </div>
        <div class="pl-[2rem]">
            <h1 class="text-[3rem] font-sans font-[700]"><%= film.title %></h1>
            <% if (film.tagline) { %>
                <h2 class="text-[1.5rem] mt-3 italic font-sans font-thin text-[1rem] text-[#E0E0E0]"><%= film.tagline %></h2>
            <% } %>
            <% for(genres of film.genres) { %>
                <div class="ui horizontal label !mt-4 !mb-4"><%= genres.name %></div>
            <% } %>
            <p class="text-[1rem] font-sans text-[#fff]"><%= film.overview %></p>
        </div>
    </div>
    <div class="flex justify-center mt-10">
        <% for (let i = 0 ; i < credit.cast.length ; i++) { %>
            <% if (i === 10) { %>
                <% break; %>
            <% } %>
            <div class="max-w-xl rounded-xl bg-[#1b1c1d] shadow-lg w-[11rem] mr-3">
                <img class="!w-[100%] !h-[175px] rounded-t-xl object-cover"
                     src=<%= `https://image.tmdb.org/t/p/w138_and_h175_face/${credit.cast[i].profile_path}` %> alt="">
                <div class="px-6 py-4">
                    <div class="font-bold text-md mb-2"><%= credit.cast[i].name %></div>
                    <span class="text-gray-500 italic text-base">
                        <%= credit.cast[i].character %>
                    </span>
                </div>
            </div>
        <% } %>
    </div>
</div>
</div>
</body>
</html>
